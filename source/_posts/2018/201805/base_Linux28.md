---
title: Linux_基础 (28)
date: 2018-05-17
tags: Linux
toc: true
---

### vim的使用
    可以将vim视为vi的进阶版,vim具有程序编辑能力,可以主动地以字体颜色辨别语法的正确性,方便程序设计

<!-- more -->

#### 按键使用
    因为vim是vi的升级版,所以vi的按键vim也可以用,具体的可以看上一节

#### 暂存档
    vim恢复
- 当系统由于某些原因而导致类似当机情况时,可以通过暂存档恢复之前未储存的数据
    * 可能有其它人或程序在同时编辑这个文件
    * 在前一个vim环境中,可能因为某些不知名原因导致vim中断
- 可用按钮
    * [O]pen Read-Only 打开此档案成为只读档, 可以用在你只是想要查阅该档案内容并不想要进行编辑行为时.一般来说,在上课时,如果你是登入到同学的计算机去看他的配置文件, 结果发现其实同学他自己也在编辑时,可以使用这个模式
    * [E]dit anyway：还是用正常的方式打开你要编辑的那个档案, 并不会载入暂存盘的内容.不过很容易出现两个使用者互相改变对方的档案等问题！不好不好！ 
    * [R]ecover：就是加载暂存盘的内容,用在你要救回之前未储存的工作. 不过当你救回来并且储存离开 vim 后,还是要手动自行删除那个暂存档喔！ 
    * [Q]uit：按下 q 就离开 vim ,不会进行任何动作回到命令提示字符. 
    * [A]bort：忽略这个编辑行为,与quit类似

#### 块操作
- 场景
    ```bash
        将192.168.1.*这一块放到最后
        192.168.1.1		host1.class.net		host1		1.1
        192.168.1.2		host2.class.net		host2		1.2
        192.168.1.3		host3.class.net		host3		1.3
        192.168.1.4		host4.class.net		host4		1.4
        192.168.1.5		host5.class.net		host5		1.5
    ```
- vim操作
    * vim filename
    * 光标移到要处理的块区域上 ctrl+v
    * 移动光标选择要处理的块,此时光标移动过的区域会反白
    * 一般指令模式下按y进行复制,移动到你想复制的地方,然后按p进行复制
    <table><tr><th colspan="2">一般模式下,块选择的按键意义</th></tr><tr><td>v</td><td>字符选择,会将光标经过的地方反白选择</td></tr><tr><td>V</td><td>行选择,会将光标经过的列反白选择</td></tr><tr><td>[Ctrl]+v</td><td>区块选择,可以用长方形的方式选择文档</td></tr><tr><td>y</td><td>将选中地方复制起来</td></tr><tr><td>d</td><td>将选中地方删除</td></tr><tr><td>p</td><td>将刚刚复制的区块在游标所在处进行粘贴</td></tr></table>

#### 多文件编辑
- 场景
    ```bash
        文件1中有2000行代码,你需要把1000-1020行代码复制到文件2中
    ```
- vim操作
    * vim filename1 filename2
    * 一般指令模式下[:files]查看目前vim开启的所有文件
    * 1000G 
    * 21yy
    * :n
    * p
    <table><tr><th colspan="2">多文件编辑的按钮说明</th></tr><tr><td>:n</td><td>编辑下一个文件</td></tr><tr><td>:N</td><td>编辑上一个文件</td></tr><tr><td>:files</td><td>列出当前这个vim的开启的所有文件</td></tr></table>
