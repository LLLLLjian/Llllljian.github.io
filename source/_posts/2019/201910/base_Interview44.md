---
title: Interview_总结 (44)
date: 2019-10-18
tags: Interview
toc: true
---

### 笔试总结
    列一下你的笔试题

<!-- more -->

#### 扑克牌问题
- Q
    * 一副从1到n的牌,每次从牌堆顶取一张放桌子上,再取一张放牌堆底,直到手机没牌,最后桌子上的牌是从1到n有序,设计程序,输入n,输出牌堆的顺序数
- A
    ```php
        // 解题思路
        // 放到桌子上的牌先后顺序是什么 是第二张牌放在第一张牌上边还是下边
        // 1. 放到上边 那就是1在最底下
        // #n=1,  [1]
        // #n=2,  [2,1] 桌子上的牌顺序为2 1. 原数组中1号位置的数字现在2号槽,原数组中2号位置的数字现在1号槽, 所以输出2 1
        // #n=3,  [3,1,2] 桌子上牌顺序为2 3 1. 原数组中1号位置的数字现在3号槽, 原数组中2号位置的数字现在1号槽, 原数组中3号位置的数字现在1号槽, 所以输出3 1 2
        // #n=4,  [4,2,3,1] 桌子上牌顺序为4 2 3 1. 原数组中1号位置的数字现在4号槽, 原数组中2号位置的数字现在2号槽, 原数组中3号位置的数字现在3号槽, 原数组中4号位置的数字现在1号槽, 所以输出4 2 3 1
        // #n=5,  [5,1,4,2,3] 类似
        // #n=6,  [6,3,5,1,4,2]
        // #n=7,  [7,2,6,3,5,1,4]
        function f1($n)
        {
            // 每个列表的第一个值肯定是n,不用多说；并且每个列表除去最后一个元素,剩下的跟下一个列表的尾部一模一样,比如n=4时候,除去最后一个1,为[4,2,3],而[4,2,3]恰恰是当n=5时候的尾巴；并且暂时除去的1跑到了这个尾巴的前一个位置,即第二位.第一位是n,第二位是前一个的最后一个元素1,剩下的是n=4时列表[4,2,3,1]除去1的[4,2,3]
            // 类似斐波那契数列算法进行递归
            if ($n == 1) {
                return array(1);
            } else {
                $tempArr = f1($n-1);
                $tempValue = array_pop($tempArr);
                array_unshift($tempArr, $n, $tempValue);
                return $tempArr;
            }
        }
        function f1_1($n)
        {
            // 逆向法(从上往下数)的步骤是,对于任意给定正整数n: 首先生成一个列表[1]；将其最后一位元素移到首位,变成[1],再将下一个2挤入首位,生成第二个列表[2,1]；将其最后一位元素移到首位,变成[1,2],再将下一个3挤入首位,生成[3,1,2]；将其最后一位元素移到首位,变成[2,3,1],再将下一个4挤入首位,生成[4,2,3,1]；重复这两个步骤,直到n.
            $res = array(1);
            for ($i=2;$i<=$n;$i++) {
                $tempValue = array_pop($res);
                array_unshift($res, $i, $tempValue);
            }
            return $res;
        }

        var_dump(f1(1));
        var_dump(f1(2));
        var_dump(f1(3));
        var_dump(f1(4));
        var_dump(f1(5));

        var_dump(f1_1(1));
        var_dump(f1_1(2));
        var_dump(f1_1(3));
        var_dump(f1_1(4));
        var_dump(f1_1(5));

        // 2.放到下边 那就是1在最上边
        // #n=1,  [1]
        // #n=2,  [1,2] 桌子上的牌顺序为1 2. 原数组中1号位置的数字现在1号槽,原数组中2号位置的数字现在2号槽, 所以输出1 2
        // #n=3,  [1,3,2] 桌子上牌顺序为1 3 2. 原数组中1号位置的数字现在1号槽, 原数组中2号位置的数字现在3号槽, 原数组中3号位置的数字现在2号槽, 所以输出1 3 2
        // #n=4,  [1,3,2,4] 桌子上牌顺序为1 3 2 4. 原数组中1号位置的数字现在1号槽, 原数组中2号位置的数字现在3号槽, 原数组中3号位置的数字现在2号槽, 原数组中4号位置的数字现在4号槽, 所以输出1 3 2 4
        // #n=5,  [1,5,2,4,3] 桌子上牌顺序为1 3 5 4 2. 原数组中1号位置的数字现在1号槽, 原数组中2号位置的数字现在5号槽, 原数组中3号位置的数字现在2号槽, 原数组中4号位置的数字现在4号槽, 原数组中5号位置的数字现在3号槽, 所以输出1 5 2 4 3
        // #n=6,  
        // #n=7,  
        function f2($n)
        {
            $source = $result = array();
            for ($i = 0; $i < $n; $i ++) {
                $source[$i] = $i+1;
            }
            for ($i = 0; $i < $n; $i ++) {
                // 将堆顶的牌放到result顶
                $result[$i+1] = $source[$i];
                // 记录第二位的牌
                if (isset($source[$i + 1])) {
                    $second = $source[$i + 1];
                    for ($j = $i + 1; $j < $n - 1; $j ++) {
                        $source[$j] = $source[$j + 1];
                    }
                    $source[$n - 1] = $second;
                } else {
                    break;
                }
            }
            asort($result);
            $result = array_keys($result);
            return $result;
        }
        function f2_1($n)
        {
            for ($i = 0; $i < $n; $i ++) {
                if ($i == 0) {
                    $array[$n - 1] = $n;
                } else {
                    // 将新的牌插入到最上面
                    $array[$n - $i - 1] = $n - $i;
                    // 记录最后一张牌的值
                    $last = $array[$n - 1];
                    // 新牌后面所有的牌向后移动一位
                    for ($j = $n - 1; $j > $n - $i ; $j --) {
                        $array[$j] = $array[$j - 1];
                    }
                    // 将原来的最后一张牌放到新牌的后面
                    $array[$n - $i] = $last;
                }
            }
            ksort($array);
            return $array;
        }
        var_dump(f2(1));
        var_dump(f2(2));
        var_dump(f2(3));
        var_dump(f2(4));
        var_dump(f2(5));

        var_dump(f2_1(1));
        var_dump(f2_1(2));
        var_dump(f2_1(3));
        var_dump(f2_1(4));
        var_dump(f2_1(5));
    ```