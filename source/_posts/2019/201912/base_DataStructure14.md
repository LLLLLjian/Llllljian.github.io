---
title: DataStructure_基础 (14)
date: 2019-12-04
tags: DataStructure
toc: true
---

### 漫画算法: 小灰的算法之旅读书笔记
    漫画算法观后感之B树

<!-- more -->

#### b树
- m阶的B树特征
    * 根结点至少有两个子女.
    * 每个中间节点都包含k-1个元素和k个孩子,其中 m/2 <= k <= m
    * 每一个叶子节点都包含k-1个元素,其中 m/2 <= k <= m
    * 所有的叶子结点都位于同一层.
    * 每个节点中的元素从小到大排列,节点当中k-1个元素正好是k个孩子包含的元素的值域分划
    * 根结点9有两个子女
    * 中间节点[2, 6] 有两个元素和三个孩子, 中间节点\[12] 有一个元素和两个孩子
    * 2 <= 3 <= 6     2 <= 5 <= 6
    * ![3阶B树](/img/20191204_1.png)
- 查询数值5的过程
    * 第一次磁盘IO 在内存中定位到9 然后查找9的左节点
    * 第二次磁盘IO 在内存中定位到 [2, 6] 然后查找下一个节点
    * 第三次磁盘IO 在内存中定位到 [3, 5] 找到5 查询结束
- 新增节点4的过程
    * 自顶向下查找4的节点位置,发现4应当插入到节点元素3,5之间. 节点3,5已经是两元素节点,无法再增加.父亲节点 2, 6 也是两元素节点,也无法再增加.根节点9是单元素节点,可以升级为两元素节点.于是拆分节点3,5与节点2,6,让根节点9升级为两元素节点4,9.节点6独立为根节点的第二个孩子
    * ![增加了节点4之后的3阶B树](/img/20191204_2.png)
- 删除节点11的过程
    * 自顶向下查找元素11的节点位置, 删除11后,节点12只有一个孩子,不符合B树规范.因此找出12,13,15三个节点的中位数13,取代节点12,而节点12自身下移成为第一个孩子.(这个过程称为左旋)
    * * ![删除了节点11之后的3阶B树](/img/20191204_3.png)






    