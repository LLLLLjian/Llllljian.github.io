---
title: DataStructure_基础 (26)
date: 2019-12-20
tags: DataStructure
toc: true
---

### 漫画算法：小灰的算法之旅读书笔记
    漫画算法观后感之面试算法[如何判断链表有环]

<!-- more -->

#### 如何判断链表有环
- Q
    * 给定一个单向链表, 怎样判断其中是否有环
    * ![单向链表](/img/20191220_1.png)
- A1
    * 遍历链表, 每遍历出一个元素, 都要重新遍历其之前的所有元素, 如果发现重复, 则认为有环
- A2
    * 遍历链表, 每遍历出一个元素就放到hashSet中, 发现有重复的值则认为有环
- A3
    * 创建两个指针, 同时指向头节点, 步长不同地向后移动, 然后比较两个指针在移动过程中指向的下一个节点是否相同, 如果不同就进行下一个循环
    1. 指针p1和指针p2都指向头节点5
    2. p1指向3, p2指向7
    3. p1指向7, p2指向6
    4. p1指向2, p2指向1
    5. p1指向6, p2指向6
    ```php
        function isCycle($node)
        {
            $p1 = $p2 = $node->head;
            while (($p2 != null) && ($p2->next != null)) {
                $p1 = $p1->next;
                $p2 = $p2->next->next;
                if ($p1 == $p2) {
                    return true;
                }
            }
            return false;
        }
    ```

#### 扩展1: 求环长
    当两个指针首次相遇证明有环的时候, 让两个指针从相遇点继续循环前进, 并统计前进的循环次数, 直到两个指针第二次相遇, 此时统计出来的前进循环次数就是环长

#### 扩展2: 求入环节点
    从链表头节点的位置到入环节点的长度, 等于从首次相遇点绕环n-1圈再回到入环点的长度, 也就是说 一个指针放在头节点, 另一个指针放在首次相遇点, 步长均为1, 那么他们再次相遇的点即为入环节点

