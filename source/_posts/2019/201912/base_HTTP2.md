---
title: 图解HTTP (2)
date: 2019-12-02
tags: HTTP
toc: true
---

### 图解HTTP读书笔记
    记录一下看书的笔记 

<!-- more -->

#### HTTPS
    HTTPS = HTTP + SSL
- 加密
    * 对称加密<a href="#desc1"></a>
        * 对称密钥加密 也叫共享密钥加密
        * 在加密和解密时使用相同的密钥, 或是使用两个可以简单地相互推算的密钥
        * 优点 速度快
        * 缺点 无法进行身份认证 每个拿到密钥的人都可以进行消息解密和加密
    * 非对称加密<a href="#desc2"></a>
        * 非对称密钥加密 也叫公开密钥加密
        * 它需要两个密钥, 一个是公开密钥, 另一个是私有密钥.顾名思义, 公钥可以任意对外发布；而私钥必须由用户自行严格秘密保管, 绝不透过任何途径向任何人提供, 也不会透露给要通信的另一方, 即使他被信任
        * 重要性质1: 加密具有双向性, 即公钥和私钥中的任一个均可用作加密, 此时另一个则用作解密. 使用其中一个密钥把明文加密后所得的密文, 只能用相对应的另一个密钥才能解密得到原本的明文, 甚至连最初用来加密的密钥也不能用作解密
        * 重要性质2: 必须确保使用公钥无法推导出私钥, 至少妄想使用公钥推导私钥必须在计算上是不可行的, 否则安全性将不复存在
- 证书
- 完整性保护

#### 对称加密举例说明<span id="desc1"></span>
    小A想给小B写一个包裹 不能直接寄出去 所以放在了密码为A0B1C2...的密码箱里 然后打电话告诉小B 等小B收到密码箱之后 通过密码成功打开
    缺点是 万一电话被窃听了 窃听到的人也可以打开密码箱了

#### 非对称加密的应用<span id="desc2"></span>
- 加密通信
    * |明文|->公钥加密->|密文|->私钥解密->|明文|
    * 还是小A跟小B的例子 小A打电话告诉小B要寄东西给他 小B自己造了一个公钥 一个私钥并且把公钥寄给了小A 小A通过公钥把包裹包起来发给了小B 只有小B的私钥才能小A的谜题
    * 缺点是 有人截取了公钥 然后将坏东西通过公钥加密 也发给了小B 小B以为所有包裹都是小A发的 误会了小A
- 数字签名
    * 消息 + 数字签名 来确认消息是小A发的
    * 还是小A跟小B的例子 小A生成一个公钥 一个私钥. 小A将公钥和包裹包在一起 用私钥加密生成数字签名, 将数字签名 公钥 包裹三个一起发给小B 小B拿上包裹之后先用公钥将数字签名解密 然后对照数字签名里的包裹和小A发的包裹是不是一个包裹 因为只有小A的私钥可以加密成数字签名 所以可以确认是小A发的
    * 实际情况中一般会使用 hash 函数对向小B发送的数据生成一个摘要(digest), 然后用小A的私钥加密这一个 digest, 得到的就是数字签名了.当小B拿到服务器发送的数据后, 对数据使用相同的 hash 函数加密一遍, 和用公钥解密的 digest 进行对比, 如果核对一致则说明中途传输的数据没有被篡改
    * 缺点是 小A不一定把包裹给了小B 小C可能中途把所有的包裹都截断了 伪装成小B在交流
- 数字证书
    * 类似身份证一样判断身份
    * 小A : 喂 是小B吗
    * x : 我是小B 你可以刷一下我的身份证 可以证明我的身份
    * 小A : 行 我知道你是小B了 但是你还需要验证一下这个随机字符串
    * 小B用私钥加密了随机字符串
    * 小A用公钥解开了加密的字符串并且加密了一个对称加密的密钥发给了小B
    * 小B用私钥揭开了对称加密的密钥 然后约定用密钥进行数据传输 
    * 然后他们就能交流了




