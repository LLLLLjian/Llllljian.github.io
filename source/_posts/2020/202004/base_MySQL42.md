---
title: MySQL_基础 (42)
date: 2020-04-08
tags: 
    - MySQL 
    - Interview
toc: true
---

### 更好的理解MySQL
    事务隔离

<!-- more -->

#### 事务的隔离级别及可能产生的问题
- 读未提交
    * 事务之间互相影响
    * 事务A读到了事务B未提交的数据, 事务B回滚之后, 事务A就读到了脏数据, 称之为脏读
- 读已提交
    * 不能保证在同一个事务中查询结果是不变的
    * 事务A读到了数据A, 事务B更新提交了数据A, 事务A再读数据A时发现数据不一致, 称之为不可重复读
- 可重复读
    * 在同一个事务中,所有的查询都是一致的
    * 事务A是不知道事务B的存在, 事务A读最后一条数据, 事务B新增, 事务A再读时发现读到了之前没读到的内容, 产生了幻觉,称之为幻读
- 串行化
    * 所有事务必须串行执行, 一个事务提交之前是不允许另一个事务读或提交
- 幻读和不可重复读的区别: 
    * 不可重复读是指读到了已经提交的事务的更改数据(修改或删除), 幻读是指读到了其他已经提交事务的新增数据.对于这两种问题解决采用不同的办法.为了防止读到更改数据(解决不可重复读), 只需对操作的数据添加行级锁, 防止操作中的数据发生变化；而为了防止读到新增数据(解决幻读), 往往需要添加表级锁, 将整张表锁定, 防止新增数据(oracle采用多版本数据的方式实现)


