---
title: MySQL_基础 (43)
date: 2020-04-09
tags: 
    - MySQL 
    - Interview
toc: true
---

### 更好的理解MySQL
    锁

<!-- more -->

#### 行锁
- 共享锁
    * 如果一个事务获取了某一行的共享锁,则这个事务只能读这一行数据,而不能修改,并且其他事务也可以获取这一行数据的共享锁,读取这一行的数据,同样不能修改数据.
- 排它锁
    * 只能被某一个事务获取.并且在获取排它锁之前,这一行数据上不能存在共享锁.一旦某一个事务获取了这一行的排它锁,那么只有这一个事务可以对这一行数据进行读写操作,其他事务对这一行数据的读写操作都会被阻塞

#### 间隙锁
> 简单来讲,就是这条语句不仅会锁住所查询的那行数据,还会把这行数据周围的间隙锁住,不让其他事务插入.也就是说,行锁是锁住已有的数据,而间隙锁,是锁住即将要插入的位置,不让其他数据插入
- 产生间隙锁的条件(where条件中的字段的索引类型)
- 主键索引
- 唯一普通索引
- 非唯一普通索引
- 无索引









