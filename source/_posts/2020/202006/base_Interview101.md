---
title: Interview_总结 (101)
date: 2020-06-03
tags: Interview
toc: true
---

### 面试题
    面试题汇总

<!-- more -->

#### MySQL索引
- 建立索引优化时需要注意的问题
    1. 对于创建的多列索引, 只要查询条件使用了最左边的列, 索引一般就会被使用.
    2. 对于使用like的查询, 查询如果是 ‘%aaa’ 不会使用到索引‘aaa%’ 会使用到索引.
    3. 如果条件中有or, 即使其中有条件带索引也不会使用.换言之, 就是要求使用的所有字段, 都必须建立索引, 我们建议大家尽量避免 使用or 关键字
    4. 如果列类型是字符串, 那一定要在条件中将数据使用引号引用起来.否则不使用索引.(添加时,字符串必须’’), 也就是, 如果列是字 符串类型, 就一定要用 ‘’ 把他包括起来.
    5. 如果mysql估计使用全表扫描要比使用索引快, 则不使用索引.
    6. 复合索引的前缀原则
- 建立索引的原则
    1. 定义主键的数据列一定要建立索引.
    2. 定义有外键的数据列一定要建立索引.
    3. 对于经常查询的数据列最好建立索引.
    4. 对于需要在指定范围内的快速或频繁查询的数据列;
    5. 经常用在WHERE子句中的数据列.
    6. 经常出现在关键字order by、group by、distinct后面的字段, 建立索引.如果建立的是复合索引, 索引的字段顺序要和这些关键字 后面的字段顺序一致, 否则索引不会被使用.
    7. 对于那些查询中很少涉及的列, 重复值比较多的列不要建立索引. 
    8. 对于定义为text、image和bit的数据类型的列不要建立索引.
    9. 对于经常存取的列避免建立索引 
    10. 限制表上的索引数目.对一个存在大量更新操作的表, 所建索引的数目一般不要超过3个, 最多不要超过5个.索引虽说提高了访 问速度, 但太多索引会影响数据的更新操作. 
    11. 对复合索引, 按照字段在查询条件中出现的频度建立索引
- 主键索引和唯一索引的区别
    1. 主键是一种约束, 唯一索引是一种索引, 两者在本质上是不同的. 
    2. 主键创建后一定包含一个唯一性索引, 唯一性索引并不一定就是主键. 
    3. 唯一性索引列允许空值, 而主键列不允许为空值. 
    4. 主键列在创建时, 已经默认为空值 + 唯一索引了. 
    5. 主键可以被其他表引用为外键, 而唯一索引不能. 
    6. 一个表最多只能创建一个主键, 但可以创建多个唯一索引
- 数据库建立索引为什么会加快查询速度
> 在执行一条Sql语句的时候, 默认的方式是根据搜索条件进行全表扫描, 遇到匹配条件的就加入搜索结果集合.如果添加索引的话, 首先 去索引列表中查询, 而我们的索引列表是B类树的数据结构, 查询的时间复杂度为O(log2N), 定位到特定值得行就会非常快, 大大减少遍 历匹配的行数, 所以其查询速度就会非常快
- 为什么使用B+树而不用HASH
> 因为B+树是多路搜索树, 在查找单条数据的时候, 哈希查找的时间复杂度为O(1), 确实比B+树会快很多, 但是 B+树的优势在于他的所有数据都存储在子节点之上, 并且子节点之间是按照链表顺序相连的, 比如我们需要查询20- 30的数据的时候, B+树会先从多路中查询20的子节点位置, 而到30相当于就是limit10, 此时B+树会遍历链表向后查 询10个数字, 不需要再去从跟节点进行查找, 所以在查询多数据情况下时, B+树的威力就体现出来了
- 为什么使用B+树而不是B树
    1. b+树的数据都集中在叶子节点.分支节点 只负责索引. b树的分支节点也有数据 . b+树的层高会小于 B树. b树平均的Io次数会远大于 B+树
    2. b+树更擅⻓范围查询.叶子节点 数据是按顺序放置的双向链表. b树范围查询只能中序遍历.
    3. 索引节点没有数据.比较小.b树可以吧索引完全加载至内存中.
- 聚簇索引与非聚簇索引(也叫二级索引)
    * 聚簇索引:将数据存储与索引放到了一块, 找到索引也就找到了数据 
    * 非聚簇索引:将数据存储于索引分开结构, 索引结构的叶子节点指向了数据的对应行, 


