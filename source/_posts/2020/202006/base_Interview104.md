---
title: Interview_总结 (104)
date: 2020-06-08
tags: Interview
toc: true
---

### 面试题
    面试题汇总

<!-- more -->

#### MySql分表后查询
- 垂直分表
    * 其实没啥好讲, 就是主键+常用列 放在原表中, 再讲主键+一些不常用列 放在另外的表中.这样一个数据⻚就可以存放更多数据. 但是缺点也明显, 可能会增加join或union之类的操作
- 水平分表:
    1. 按时间分
        * 如果有时间查询条件的话 就连接对应的表
    2. 按区间分
        * id取余判断要去哪个表里查
    3. hash分表
> 水平分表, 典型缺点, 对于group by或order by之类的查询是灾难

#### 什么HTTP协议?
1. HTTP协议是超文本传输协议(默认端口80).
2. 服务器传输超文本到本地浏览器的传送协议.
3. HTTP是一个基于TCP/IP通信协议来传送数据的.
4. HTTP就是客服端→服务端的数据传输.
- 大致工作流程:
    1. 客户与服务器建立连接;
    2. 客户向服务器提出请求;
    3. 服务器接受请求, 并根据请求返回相应的文件作为应答;
    4. 客户与服务器关闭连接.

#### HTTP协议的主要特点:
1. 支持客户/服务器模式. 
2. 简单快速:客户向服务器请求服务时, 只需传送请求方法和路径.请求方法常用的有GET、HEAD、POST.每种方法规定了客户与 服务器联系的类型不同.由于HTTP协议简单, 使得HTTP服务器的程序规模小, 因而通信速度很快. 
3. 灵活:HTTP允许传输任意类型的数据对象.正在传输的类型由Content-Type(Content-Type是HTTP包中用来表示内容类型的标 识)加以标记. 
4. 无连接:无连接的含义是限制每次连接只处理一个请求.服务器处理完客户的请求, 并收到客户的应答后, 即断开连接.采用这种方式可以节省传输时间. 
5. 无状态:HTTP协议是无状态协议.无状态是指协议对于事务处理没有记忆能力.缺少状态意味着如果后续处理需要前面的信息, 则 它必须重传, 这样可能导致每次连接传送的数据量增大.另一方面, 在服务器不需要先前信息时它的应答就较快

#### 什么是TCP协议
> TCP是一种面向广域网的通信协议, 目的是在跨越多个网络通信时, 为两个通信端点之间提供一条具有下列特点的通信方式
- 通信方式
    1. 基于流的方式;
    2. 面向连接;
    3. 可靠通信方式;
    4. 在网络状况不佳的时候尽量降低系统由于重传带来的带宽开销; 
    5. 通信连接维护是面向通信的两个端点的, 而不考虑中间网段和节点
- TCP协议规定
    1. 数据分片:在发送端对用户数据进行分片, 在接收端进行重组, 由TCP确定分片的大小并控制分片和重组; 
    2. 到达确认:接收端接收到分片数据时, 根据分片数据序号向发送端发送一个确认; 
    3. 超时重发:发送方在发送分片时启动超时定时器, 如果在定时器超时之后没有收到相应的确认, 重发分片; 
    4. 滑动窗口:TCP连接每一方的接收缓冲空间大小都固定, 接收端只允许另一端发送接收端缓冲区所能接纳的数据, TCP在滑动窗口的 基础上提供流量控制, 防止较快主机致使较慢主机的缓冲区溢出; 
    5. 失序处理:作为IP数据报来传输的TCP分片到达时可能会失序, TCP将对收到的数据进行重新排序, 将收到的数据以正确的顺序交给 应用层;
    6. 重复处理:作为IP数据报来传输的TCP分片会发生重复, TCP的接收端必须丢弃重复的数据; 
    7. 数据校验:TCP将保持它首部和数据的检验和, 这是一个端到端的检验和, 目的是检测数据在传输过程中的任何变化.如果收到分 片的检验和有差错, TCP将丢弃这个分片, 并不确认收到此报文段导致对端超时并重发


