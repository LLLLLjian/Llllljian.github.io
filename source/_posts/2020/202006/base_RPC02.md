---
title: RPC_总结 (02)
date: 2020-06-11
tags: RPC
toc: true
---

### 了解Dubbo
    了解Dubbo

<!-- more -->

#### Dubbo是什么
> dubbo是⼀个分布式服务框架, 提供⾼性能和透明化的RPC远程服务调⽤⽅案, 以及SOA服务治理方案.说白了其实dubbo就是一个远程调用的分布式框架

#### dubbo的核心服务是什么
1. 远程通讯: 提供对多种基于长连接的NIO框架抽象封装, 包括多种线程模型, 序列化, 以及“请求-响应”模式的信息交换方式.
2. 集群容错: 提供基于接口方法的透明远程过程调用, 包括多协议支持, 以及软负载均衡, 失败容错, 地址路由, 动态配置等集群支持.
3. 自动发现: 基于注册中心目录服务, 使服务消费方能动态的查找服务提供方, 使地址透明, 使服务提供方可以平滑增加或减少机器.

#### dubbo能做什么
1. 透明化的远程方法调用, 就像调用本地方法一样调用远程方法, 只需简单配置, 没有任何API侵入.
2. 软负载均衡及容错机制, 可在内网替代F5等硬件负载均衡器, 降低成本, 减少单点.
3. 服务自动注册与发现, 不再需要写死服务提供方地址, 注册中心基于接口名查询服务提供者的IP地址, 并且能够平滑添加或删除服务提供者

#### dubbo调用流程
0. 服务容器负责启动, 加载, 运行服务提供者.
1. 服务提供者在启动时, 向注册中心注册自己提供的服务.
2. 服务消费者在启动时, 向注册中心订阅自己所需的服务.
3. 注册中心返回服务提供者地址列表给消费者, 如果有变更, 注册中心将基于长连接推送变更数据给消费者.
4. 服务消费者, 从提供者地址列表中, 基于软负载均衡算法, 选一台提供者进行调用, 如果调用失败, 再选另一台调用.
5. 服务消费者和提供者, 在内存中累计调用次数和调用时间, 定时每分钟发送一次统计数据到监控中心

#### Dubbo优缺点
- 优点
    1. 透明化的远程方法调用
        * 像调用本地方法一样调用远程方法；只需简单配置, 没有任何API侵入.
    2. 软负载均衡及容错机制
        * 可在内网替代nginx lvs等硬件负载均衡器.
    3. 服务注册中心自动注册 & 配置管理
        * 不需要写死服务提供者地址, 注册中心基于接口名自动查询提供者ip.
        * 使用类似zookeeper等分布式协调服务作为服务注册中心, 可以将绝大部分项目配置移入zookeeper集群.
    4. 服务接口监控与治理
        * Dubbo-admin与Dubbo-monitor提供了完善的服务接口管理与监控功能, 针对不同应用的不同接口, 可以进行 多版本, 多协议, 多注册中心管理.
- 缺点
    * 只支持JAVA语言


