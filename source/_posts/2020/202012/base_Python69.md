---
title: Python_基础 (69)
date: 2020-12-23
tags: Python
toc: true
---

### 快来跟我一起学Django
    哈哈哈 之前学的栗子都是水过地皮湿 还是学项目吧！！
    为啥要有个if __name__=='__main__'

<!-- more -->

#### 引入问题
> 看到很多文件中会看到 if \__name__=='\__main__',那么它到底有什么作用呢

#### 程序入口
> 与Java、C、C++等几种语言不同的是,Python是一种解释型脚本语言,在执行之前不同要将所有代码先编译成中间代码,Python程序运行时是从模块顶行开始,逐行进行翻译执行,所以,最顶层(没有被缩进)的代码都会被执行,所以Python中并不需要一个统一的main()作为程序的入口.在某种意义上讲,“if \__name__==’\__main__:”也像是一个标志,象征着Java等语言中的程序主入口,告诉其他程序员,代码入口在此, 这是“if_name__==’\__main__:”这条代码的意义之一

#### 模块导入
- 模块A
    ```python
        # 模块A
        a = 100
        print('你好,我是模块A……')
        print(a)
    ```
- 模块B
    ```python
        # 模块B
        from package01 import A
        b = 200
        print('你好,我是模块B……')
        print(b)
    ```
- 运行结果(模块B)
    ```python
        你好,我是模块A……
    　　100
    　　你好,我是模块B……
    　　200
    ```
- 改良版模块A
    ```python
        # 模块A
        a = 100
        print('你好,我是模块A……')

        if __name__=='__main__':
            print(a)
    ```
- 再次运行模块B
    ```bash
        你好,我是模块A……
    　　你好,我是模块B……
    　　200
    ```

#### “__name__”与“__main__”
- 还是模块A
    ```python
        # 模块A
        print('你好,我是模块A……')
        print('模块A中__name__的值：{}'.format(__name__))
        print('-------------------------')
    ```
- 还是模块B
    ```python
        # 模块B

        from package01 import A
        print('你好,我是模块B……')
        print('模块B中__name__的值：{}'.format(__name__))
    ```
- 运行模块A
    ```bash
        你好,我是模块A……
        模块A中__name__的值：__main__
        -------------------------
    ```
- 运行模块B
    ```bash
        你好,我是模块A……
        模块A中__name__的值：package01.A
        -------------------------

        你好,我是模块B……
        模块B中__name__的值：__main__
    ```
- 结论
    * 当哪个模块被直接执行时,该模块“\__name__”的值就是“\__main__”,当被导入另一模块时,“\__name__”的值就是模块的真实名称
    * 当运行“if \__name__=='\__main__':”语句时,如果当前模块时被直接执行,__name__的值就是__main__,条件判断的结果为True,“if \__name__=='\__main__':”下面的代码块就会被执行




