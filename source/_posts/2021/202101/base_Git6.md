---
title: Git_基础 (6)
date: 2020-01-07
tags: Git
toc: true
---

### Git实战
    从工作中看git

<!-- more -->

#### 忽略某些文件或文件夹
- 背景
    * 有些文件必须放在git工作目录中, 但是不能上传到仓库里去, 比如数据库配置文件、口令等, 每次git status时就很烦, 不如直接把他们放在.gitignore中, git就会自动忽略这些文件了
- 忽略文件的原则
    1. 忽略操作系统自动生成的文件,比如缩略图等
    2. 忽略编译生成的中间文件、可执行文件等,也就是如果一个文件是通过另一个文件自动生成的,那自动生成的文件就没必要放进版本库,比如Java编译产生的.class文件
    3. 忽略你自己的带有敏感信息的配置文件,比如存放口令的配置文件
- 语法规则：
    * (#)表示注释
    * (*)  表示任意多个字符; 
    * (?) 代表一个字符;
    * ([abc]) 代表可选字符范围
    * 如果名称最前面是路径分隔符 (/) ,表示忽略的该文件在此目录下.
    * 如果名称的最后面是 (/) ,表示忽略整个目录,但同名文件不忽略.
    * 通过在名称前面加 (!) ,代表不忽略.
- eg
    ```bash
        *.a                   # 忽略所有 .a 伟扩展名的文件
        !lib.a                # 但是 lib.a 不忽略,即时之前设置了忽略所有的 .a
        /TODO            # 只忽略此目录下 TODO 文件,子目录的 TODO 不忽略 
        build/               # 忽略所有的 build/ 目录下文件
        doc/*.txt           # 忽略如 doc/notes.txt, 但是不忽略如 doc/server/arch.txt
    ````

#### 放弃本地所有更改内容
- 背景
    * 改了一个文件, 不想要了
    * 修改了很多文件, 都不想要了
- 撤销单个文件
    * git checkout 文件名
- 撤销全部文件
    * git fetch --all && git reset --hard origin/master && git pull



