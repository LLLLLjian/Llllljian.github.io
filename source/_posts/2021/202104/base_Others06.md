---
title: 杂项_总结 (06)
date: 2021-04-13
tags: Others
toc: true
---

### 查缺补漏
    限流

<!-- more -->

#### 漏桶算法
> 漏桶算法思路很简单, 水(请求)先进入到漏桶里, 漏桶以一定的速度出水, 当水流入速度过大会直接溢出, 可以看出漏桶算法能强行限制数据的传输速率, 漏桶可以看作是一个带有常量服务时间的单服务器队列, 如果漏桶(包缓存)溢出, 那么数据包会被丢弃. 在网络中, 漏桶算法可以控制端口的流量输出速率, 平滑网络上的突发流量, 实现流量整形, 从而为网络提供一个稳定的流量

![漏桶算法](/img/20210413_1.png)

#### 令牌桶算法
> 令牌桶算法的原理是系统会以一个恒定的速度往桶里放入令牌, 而如果请求需要被处理, 则需要先从桶里获取一个令牌, 当桶里没有令牌可取时, 则拒绝服务.从原理上看, 令牌桶算法和漏桶算法是相反的, 一个“进水”, 一个是“漏水”

![令牌桶算法](/img/20210413_2.png)

#### 漏桶算法VS令牌桶算法
1. 漏桶算法的出水速度是恒定的, 那么意味着如果瞬时大流量的话, 将有大部分请求被丢弃掉(也就是所谓的溢出).
2. 令牌桶算法生成令牌的速度是恒定的, 而请求去拿令牌是没有速度限制的.这意味, 面对瞬时大流量, 该算法可以在短时间内请求拿到大量令牌, 而且拿令牌的过程并不是消耗很大的事情.