---
title: 杂项_总结 (10)
date: 2021-04-19
tags: Others
toc: true
---

### 查缺补漏
    死锁

<!-- more -->

#### 死锁的概念
> 死锁(Deadlock), 这里指的是进程死锁.它是操作系统或软件运行的一种状态：在多任务系统下, 当一个或多个进程等待系统资源, 而资源又被进程本身或其他进程占用时, 就形成了死锁
1. 所谓死锁, **是指多个进程循环等待它方占有的资源而无限期地僵持下去的局面**
2. 计算机系统产生死锁的根本原因就是**资源有限且进程间推进顺序不当**

#### 出现死锁的条件
1. 互斥条件
    * 即某个资源在一段时间内只能由一个进程占有, 不能同时被两个或两个以上的进程占有.
2. 不剥夺条件
    * 进程所获得的资源在未使用完毕之前, 资源申请者不能强行地从资源占有者手中夺取资源, 而只能由该资源的占有者进程自行释放.
3. 请求和保持条件
    * 进程至少已经占有一个资源, 但又申请新的资源；由于该资源已被另外进程占有, 此时该进程阻塞；但是, 它在等待新资源之时, 仍继续占用已占有的资源
4. 环路条件

#### 处理死锁
1. 死锁预防
    * 破坏“请求和保持”条件
        * 即允许进程同时访问某些资源.
        * 但是, 有的资源是不允许被同时访问的, 像打印机等等, 这是由资源本身的属性所决定的.
        * 所以, 这种办法并无实用价值.
    * 破坏“不剥夺”条件
        * 即允许进程强行从占有者那里夺取某些资源.
    * 破坏“环路等待”条件
        * 可以实行资源预先分配策略
2. 死锁避免
    * 死锁的避免指在系统运行过程中, 对进程发出的每一个系统能够满足的资源申请进行动态检查, 并根据检查结果决定是否分配资源, 若分配后系统可能发生死锁, 则不予分配, 否则予以分配.
    * 在分配资源时判断是否会出现死锁, 如不会死锁, 则分配资源
3. 预防死锁
    * 资源一次性分配：一次性分配所有资源, 这样就不会再有请求了：(破坏请求条件)
    * 只要有一个资源得不到分配, 也不给这个进程分配其他的资源：(破坏请保持条件)
    * 可剥夺资源：即当某进程获得了部分资源, 但得不到其它资源, 则释放已占有的资源(破坏不可剥夺条件)
    * 资源有序分配法：系统给每类资源赋予一个编号, 每一个进程按编号递增的顺序请求资源, 释放则相反(破坏环路等待条件)








