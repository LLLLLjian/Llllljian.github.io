---
title: 杂项_总结 (17)
date: 2021-09-24
tags: Others
toc: true
---

### 杂项
    线程管理

<!-- more -->

#### 引入线程的目的

程序并发执行所需付出的时空开销, 为使程序能并发执行, 系统必须进行以下的一系列操作: 
1. 创建进程, 系统在创建一个进程时, 必须为它分配其所必需的、除处理机以外的所有资源, 如内存空间、I/O设备, 以及建立相应的PCB；
2. 撤消进程, 系统在撤消进程时, 又必须先对其所占有的资源执行回收操作, 然后再撤消PCB；
3. 进程切换, 对进程进行上下文切换时, 需要保留当前进程的CPU环境, 设置新选中进程的CPU环境, 因而须花费不少的处理机时间.

引入线程主要是为了提高系统的执行效率, 减少处理机的空转时间和调度切换(保护现场信息)的时间, 以及便于系统管理., 使OS具有更好的并发性

线程——作为调度和分派的基本单位(取代进程的部分基本功能)

#### 引入线程的好处
1. 易于调度
2. 提高并发性.通过线程可方便有效地实现并发性.进程可创建多个线程来执行同一程序的不同部分
3. 开销少.创建线程比创建进程要快, 所需开销很少
4. 利于充分发挥多处理器的功能.通过创建多线程进程(即一个进程可具有两个或更多个线程), 每个线程在一个处理器上运行, 从而实现应用程序的并发性, 使每个处理器都得到充分运行

#### 进程与线程区别与联系
1. 一个线程只能属于一个进程, 而一个进程可以有多个线程, 但至少有一个线程.
2. 资源分配给进程, 同一进程的所有线程共享该进程的所有资源.
3. 处理机分给线程, 即真正在处理机上运行的是线程.
4. 线程在执行过程中, 需要协作同步.不同进程的线程间要利用消息通信的办法实现同步.
5. 划分尺度:线程更小, 所以多线程程序并发性更高；
6. 资源分配: 进程是资源分配的基本单位, 同一进程内多个线程共享其资源；
7. 地址空间: 进程拥有独立的地址空间, 同一进程内多个线程共享其资源；
8. 处理器调度: 线程是处理器调度的基本单位；
9. 执行: 每个线程都有一个程序运行的入口, 顺序执行序列和程序的出口, 但线程不能单独执行, 必须组成进程, 一个进程至少有一个主线程.简而言之,一个程序至少有一个进程,一个进程至少有一个线程



