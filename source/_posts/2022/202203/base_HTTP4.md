---
title: HTTP基础 (4)
date: 2022-03-07
tags: HTTP
toc: true
---

### 图解网络读书笔记
    记录一下看书的笔记 

<!-- more -->

#### 带着问题来看书
> HTTP基本知识

#### HTTP是什么
- HTTP是什么?描述一下
    * HTTP 是超文本传输协议, 也就是HyperText Transfer Protocol
    * HTTP 是一个在计算机世界里专门在「两点」之间「传输」文字、图片、音频、视频等「超文本」数据 的「约定和规范」.
- 能否详细解释「超文本传输协议」
    * 超文本
        * 超越了普通文本的文本
    * 传输
        * HTTP 是一个在计算机世界里专门用来在两点之间传输数据的约定和规范.
    * 协议: 必须有两个以上的参与者; 对参与者的一种行为约定和规范
        * HTTP 是一个用在计算机世界里的协议.它使用计算机能够理解的语言确立了一种计算机之间交流通信的规范(两个以上的参与者), 以及相关的各种控制和错误处理方式(行为约定和规范)

#### HTTP常见出状态码
- 1xx
    * 状态码属于提示信息, 是协议处理中的一种中间状态, 实际用到的比较少
- 2xx
    * 状态码表示服务器成功处理了客户端的请求, 也是我们最愿意看到的状态
    * 「200 OK」是最常见的成功状态码, 表示一切正常.如果是非 HEAD 请求, 服务器返回的响应头都会有 body 数据.
    * 「204 No Content」也是常见的成功状态码, 与 200 OK 基本相同, 但响应头没有 body 数据.
    * 「206 Partial Content」是应用于 HTTP 分块下载或断点续传, 表示响应返回的 body 数据并不是资源 的全部, 而是其中的一部分, 也是服务器处理成功的状态.
- 3xx
    * 状态码表示客户端请求的资源发送了变动, 需要客户端用新的 URL 重新发送请求获取资源,  也就是重定向
    * 「301 Moved Permanently」表示永久重定向, 说明请求的资源已经不存在了, 需改用新的 URL 再次 访问.
    * 「302 Found」表示临时重定向, 说明请求的资源还在, 但暂时需要用另一个 URL 来访问.
    * 301 和 302 都会在响应头里使用字段 Location , 指明后续要跳转的 URL, 浏览器会自动重定向新的URL.
    * 「304 Not Modified」不具有跳转的含义, 表示资源未修改, 重定向已存在的缓冲文件, 也称缓存重定向, 用于缓存控制.
- 4xx
    * 状态码表示客户端发送的报文有误, 服务器无法处理, 也就是错误码的含义
    * 「400 Bad Request」表示客户端请求的报文有错误, 但只是个笼统的错误.
    * 「403 Forbidden」表示服务器禁止访问资源, 并不是客户端的请求出错.
    * 「404 Not Found」表示请求的资源在服务器上不存在或未找到, 所以无法提供给客户端
- 5xx
    * 状态码表示客户端请求报文正确, 但是服务器处理时内部发生了错误, 属于服务器端的错误 码.
    * 「500 Internal Server Error」与 400 类型, 是个笼统通用的错误码, 服务器发生了什么错误, 我们并不知道.
    * 「501 Not Implemented」表示客户端请求的功能还不支持, 类似“即将开业, 敬请期待”的意思.
    * 「502 Bad Gateway」通常是服务器作为网关或代理时返回的错误码, 表示服务器自身工作正常, 访问后端服务器发生了错误.
    * 「503 Service Unavailable」表示服务器当前很忙, 暂时无法响应服务器, 类似“网络服务正忙, 请稍后重试”的意思.

#### HTTP常见字段有哪些
- Host
    * 客户端发送请求时, 用来指定服务器的域名
- Content-Length
    * 服务器在返回数据时, 会有 Content-Length 字段, 表明本次回应的数据长度.
- Connection
    * Connection 字段最常用于客户端要求服务器使用 TCP 持久连接, 以便其他请求复用
- Content-Type
    * Content-Type 字段用于服务器回应时, 告诉客户端, 本次数据是什么格式
- Content-Encoding
    * Content-Encoding 字段说明数据的压缩方法.表示服务器返回的数据使用了什么压缩格式

#### 说一下 GET 和 POST 的区别
- Get 方法的含义是请求从服务器获取资源
- POST 方法则是相反操作, 它向 URI 指定的资源提交数据, 数据就放在报文的 body 里
- 是否安全和幂等
    * 在 HTTP 协议里, 所谓的「安全」是指请求方法不会「破坏」服务器上的资源
    * 所谓的「幂等」, 意思是多次执行相同的操作, 结果都是「相同」的
    * GET 安全且幂等
    * POST 不安全且不幂等

#### HTTP(1.1) 的优点
- 简单
    * HTTP 基本的报文格式就是 header + body ,头部信息也是 key-value 简单文本的形式,易于理解, 降低了学习和使用的门槛.
- 灵活和易于扩展
    * HTTP协议里的各类请求方法、URI/URL、状态码、头字段等每个组成要求都没有被固定死,都允许开 发人员自定义和扩充.
- 应用广泛和跨平台
    * HTTP 的应用片地开花,同时天然具有跨平台的优越性

#### HTTP(1.1) 的缺点
- 无状态
    * 无状态的好处,因为服务器不会去记忆 HTTP 的状态,所以不需要额外的资源来记录状态信息,这能减 轻服务器的负担,能够把更多的 CPU 和内存用来对外提供服务.
    * 无状态的坏处,既然服务器没有记忆能力,它在完成有关联性的操作时会非常麻烦.
- 明文传输
    * 信息裸奔
- 不安全
    * 通信使用明文(不加密),内容可能会被窃听.比如,账号信息容易泄漏,那你号没了
    * 不验证通信方的身份,因此有可能遭遇伪装.比如,访问假的淘宝、拼多多,那你钱没了
    * 无法证明报文的完整性,所以有可能已遭篡改.比如,网页上植入垃圾广告,视觉污染,眼没 了

#### HTTP(1.1) 的性能
- 长连接
    * 减少了 TCP 连接的重复建立和断开所造成的额外开销,减轻了服务器端的负载
- 管道网络传输
    * 在同一个 TCP 连接里面,客户端可以发起多个请求,可以减少整体的响应时间
- 队头阻塞
    * 因为当顺序发送的请求序列中的一个请求因为某种原因被阻塞时,在后面排队的所有请求也一同被阻塞 了,会招致客户端一直请求不到数据

#### HTTP与HTTPS有哪些区别
1. HTTP 是超文本传输协议,信息是明文传输,存在安全风险的问题.HTTPS 则解决 HTTP 不安全 的缺陷,在 TCP 和 HTTP 网络层之间加入了 SSL/TLS 安全协议,使得报文能够加密传输.
2. HTTP 连接建立相对简单, TCP 三次握手之后便可进行 HTTP 的报文传输.而 HTTPS 在 TCP 三次握手之后,还需进行 SSL/TLS 的握手过程,才可进入加密报文传输.
3. HTTP 的端口号是 80,HTTPS 的端口号是 443.
4. HTTPS 协议需要向 CA(证书权威机构)申请数字证书,来保证服务器的身份是可信的.

#### HTTPS解决了HTTP的哪些问题
- 三危险
    * 窃听风险,比如通信链路上可以获取通信内容,用户号容易没
    * 篡改风险,比如强制植入垃圾广告,视觉污染,用户眼容易瞎
    * 冒充风险,比如冒充淘宝网站,用户钱容易没
- 三解决
    * 信息加密:交互信息无法被窃取,但你的号会因为「自身忘记」账号而没
        * 混合加密
    * 校验机制:无法篡改通信内容,篡改了就不能正常显示,但百度「竞价排名」依然可以搜索垃圾广告
        * 客户端在发送明文之前会通过摘要算法算出明文的「指纹」,发送的时候把「指纹 + 明文」一同加密成 密文后,发送给服务器,服务器解密后,用相同的摘要算法算出发送过来的明文,通过比较客户端携带 的「指纹」和当前算出的「指纹」做比较,若「指纹」相同,说明数据是完整的.
    * 身份证书:证明淘宝是真的淘宝网,但你的钱还是会因为「剁手」而没
        * 将服务器公钥放在数字证书(由数 字证书认证机构颁发)中,只要证书是可信的,公钥就是可信的.




