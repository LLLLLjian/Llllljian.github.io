---
title: HTTP基础 (5)
date: 2022-03-10
tags: HTTP
toc: true
---

### 图解网络读书笔记
    记录一下看书的笔记 

<!-- more -->

#### 带着问题来看书
> 当键入网址后,到网页显示,其间发生了什么

![简单的网络拓扑模型](/img/20220310_1.png)

#### 流程简介
- 孤单小弟 —— HTTP
    * 解析URL,生成发送给web服务器的请求信息
- 真实地址查询 —— DNS
    * 查询服务器域名对应的IP地址
    * 客户端首先会发出一个 DNS 请求,问 www.server.com 的 IP 是啥,并发给本地 DNS 服务器(也 就是客户端的 TCP/IP 设置中填写的 DNS 服务器地址).
    * 本地域名服务器收到客户端的请求后,如果缓存里的表格能找到 www.server.com,则它直接返回 IP 地址.如果没有,本地 DNS 会去问它的根域名服务器:“老大, 能告诉我 www.server.com 的 IP 地址吗?” 根域名服务器是最高层次的,它不直接用于域名解析,但能指明一条道路.
    * 根 DNS 收到来自本地 DNS 的请求后,发现后置是 .com,说:“www.server.com 这个域名归 .com 区域管理”,我给你 .com 顶级域名服务器地址给你,你去问问它吧.”
    * 本地 DNS 收到顶级域名服务器的地址后,发起请求问“老二, 你能告诉我 www.server.com 的 IP 地址吗?”
    * 顶级域名服务器说:“我给你负责 www.server.com 区域的权威 DNS 服务器的地址,你去问它应该 能问到”.
    * 本地 DNS 于是转向问权威 DNS 服务器:“老三,www.server.com对应的IP是啥呀?” server.com 的权威 DNS 服务器,它是域名解析结果的原出处.为啥叫权威呢?就是我的域名我做主.
    * 权威 DNS 服务器查询后将对应的 IP 地址 X.X.X.X 告诉本地 DNS.
    * 本地 DNS 再将 IP 地址返回客户端,客户端和目标建立连接.
- 指南好帮手 —— 协议栈
    * 没有什么想说的,你去找TCP吧
- 可靠传输 —— TCP
    * SYN是发起一个连接
    * ACK是回复
    * RST是重新连接
    * FIN是结束连接
    * ![TCP三次握手](/img/20220310_2.png)
- 远程定位 —— IP
- 两点传输 —— MAC
- 出口 —— 网卡
- 送别者 —— 交换机
- 出境大门 —— 路由器
- 互相扒皮 —— 服务器与客户端
    * ![服务器与客户端](/img/20220310_3.png)




